
# PETFRIEND
<p align="center">
<img src="https://img.shields.io/badge/madeÂ by-smosco-red">
<img src="https://img.shields.io/badge/React-blue">
<img src="https://img.shields.io/badge/SCSS-magenta">
<img src="https://img.shields.io/badge/Open%20Source-ğŸ¶-mint">
</p>
  
<img width="100%" alt="thumbnail" src="https://user-images.githubusercontent.com/62870362/230266704-318f82e7-0cc4-4045-9e1d-e1cb5069dc6d.png">
  
### ğŸ‘‰ [Live Demo](https://befpef.netlify.app/)

## **ğŸ“œìš”ì•½**
ê²½ê¸°ë„ ë°ì´í„° ë“œë¦¼ì˜ ìœ ê¸°ë™ë¬¼ ë³´í˜¸ í˜„í™© open apië¥¼ ì‚¬ìš©í•´ ê²½ê¸°ë„ ì§€ì—­ì˜ ìœ ê¸° ë™ë¬¼ì„ ì‹œêµ°êµ¬, ê³µê³ ì¼, í’ˆì¢…ì— ë”°ë¼ ì¡°íšŒí•˜ê³  ì§€ë„ ìƒì—ì„œ ê°€ê¹Œìš´ ë³´í˜¸ì†Œë¥¼ ì°¾ì•„ ìœ ê¸° ë™ë¬¼ ì…ì–‘ì„ ë•ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

1. Skills: React,Â ReactÂ Router,Â SCSS
2. Use: Postman,Â ê²½ê¸°ë„ ë°ì´í„° ë“œë¦¼ ìœ ê¸°ë™ë¬¼ ë³´í˜¸ í˜„í™© open api, ì¹´ì¹´ì˜¤ë§µ api, axios
3. Deploy: Netlify

## **ğŸ“œí˜ì´ì§€ë³„ êµ¬í˜„ ê¸°ëŠ¥**
### **1. í™ˆí˜ì´ì§€**
ğŸ“Œ ê³µê³ ê¸°í•œì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì€ ìœ ê¸°ë™ë¬¼ì„ ë°˜ì‘í˜• ë©€í‹° ìŠ¬ë¼ì´ë”ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.

![multiSlider](https://user-images.githubusercontent.com/62870362/230267750-ebe144e3-bb52-41b0-9604-6da162a72f9a.png)

ğŸ“Œ ê³µê³ ì¼, ì‹œêµ°êµ¬, í’ˆì¢… ì¹´í…Œê³ ë¦¬ì— ë§ëŠ” ìœ ê¸° ë™ë¬¼ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![category](https://user-images.githubusercontent.com/62870362/230268002-3a371812-6716-4f63-be2f-f8f9c3e4dc50.png)

### **2. ì§€ë„ í˜ì´ì§€**

ğŸ“Œ ì¹´ì¹´ì˜¤ë§µ ìƒì˜ ìœ ê¸° ë™ë¬¼ ë³´í˜¸ì†Œ ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ë©´ ë³´í˜¸ì¤‘ì¸ ìœ ê¸° ë™ë¬¼ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

![map](https://user-images.githubusercontent.com/62870362/230268840-8e1e9e05-6af0-4b77-8952-03b3981b6e7f.png)

### **3. ìœ ê¸° ë™ë¬¼ ë””í…Œì¼ í˜ì´ì§€**

ğŸ“Œ ìœ ê¸° ë™ë¬¼ì˜ ì´ë¯¸ì§€, êµ¬ì²´ì ì¸ ì •ë³´ë¥¼ ì‚¬ìš©ìê°€ ë³´ê¸° ì‰½ê²Œ í…Œì´ë¸”ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

![detail](https://user-images.githubusercontent.com/62870362/230269224-cd67d435-8b84-4d7f-b83c-5777ce059e8d.png)

### **4. ë‹¤ì‹œë³´ê³  ì‹¶ì€ ìœ ê¸°ë™ë¬¼ ê¸°ë¡ í˜ì´ì§€**

ğŸ“Œ Context APIë¥¼ í™œìš©í•´ ë‹¤ì‹œ ë³´ê³  ì‹¶ì€ ë™ë¬¼ ë°ì´í„°ë¥¼ ê¸€ë¡œë²Œí•˜ê²Œ ê´€ë¦¬í•´ ì–´ë””ì„œë‚˜ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆê²Œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

![like](https://user-images.githubusercontent.com/62870362/230270215-0253979a-d7d2-4938-ba53-ff39cf059834.png)

# **ğŸ” AboutÂ theÂ project**

**âœ… í©ì–´ì ¸ ìˆë˜ ë„¤íŠ¸ì›Œí¬ í†µì‹  ì½”ë“œë¥¼ í•œ ê³³ì— ëª¨ì•„ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.**

**âœ… axios ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ fetchë³´ë‹¤ ê°€ë…ì„± ì¢‹ê²Œ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì™”ìŠµë‹ˆë‹¤.**

**âœ… ì¹´í…Œê³ ë¦¬ê°€ ë³€ê²½ ë ë•Œë§ˆë‹¤ ê²€ìƒ‰ ì¡°ê±´ì„ query stateìœ¼ë¡œ ê´€ë¦¬í•´ ì»´í¬ë„ŒíŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¹”ë”í•˜ê²Œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.**

```jsx
// src/api/axios.js

// ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì¡°ê±´ì— ë§ëŠ” ìœ ê¸°ë™ë¬¼ ë°ì´í„°ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.
export const getPets = async (query) => {
  try {
    const data = await axios
      .get(
        `${BASE_URL}&SIGUN_NM=${query.SIGUN_NM}&PBLANC_BEGIN_DE=${query.PBLANC_BEGIN_DE}&PBLANC_END_DE=${query.PBLANC_END_DE}&SPECIES_NM=${query.SPECIES_NM}`,
        options
      )
      .then((res) =>
        res.data.AbdmAnimalProtect ? res.data.AbdmAnimalProtect : []
      );
    return data; //ê¼­ ë¦¬í„´ í•´ì£¼ê¸°
  } catch (err) {
    console.log(err.message);
  }

// ì§€ë„ìƒì—ì„œ ì„ íƒí•œ ë³´í˜¸ì†Œì— ìƒíƒœê°€ ë³´í˜¸ì¤‘ì¸ ìœ ê¸°ë™ë¬¼ì„ ë°›ì•„ì˜µë‹ˆë‹¤.    
export const getShelterPets = async (marker) => {
  try {
    const data = await axios
      .get(`${BASE_URL}&SHTER_NM=${marker.Gb}&STATE_NM=ë³´í˜¸ì¤‘`)
      .then((res) =>
        res.data.AbdmAnimalProtect ? res.data.AbdmAnimalProtect : []
      );
    return data; //ê¼­ ë¦¬í„´ í•´ì£¼ê¸°
  } catch (err) {
    console.log(err.message);
  }
};

```

```jsx
// src/page/Home.js
//...
  useEffect(() => {
    getPets(query).then((data) => {
      setPets(data[1].row);
      setCount(data[0].head[0].list_total_count);
    });
  }, [query]);

```

**âœ… ì–´ë””ì„œë‚˜ ë‹¤ì‹œë³´ê³  ì‹¶ì€ ë™ë¬¼ì„ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë„ë¡ context apië¥¼ ì‚¬ìš©í•´ ê¸€ë¡œë²Œí•˜ê²Œ ìƒíƒœë¥¼ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.**

``` jsx
//src/ context/LikeContext.js

import { createContext, useContext, useEffect, useState } from "react";

const LikesContext = createContext();

// likesì—ëŠ” idë§Œ ì €ì¥í•´ì„œ includeë¡œ íŒë‹¨í•˜ê³ , apiì—ì„œ idë¡œ ë”°ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ì–´ì„œ petê¹Œì§€ ë¡œì»¬ì— ì €ì¥í•¨
export function LikesProvider({ children }) {
  const [likes, setLikes] = useState(readLikesFromLocal("likes"));
  const [likeItems, setLikeItems] = useState(readLikesFromLocal("likeItems"));

  const handleAdd = (id, pet) => {
    setLikes({ ...likes, id });
    setLikeItems([...likeItems, pet]);
  };

  const handleDelete = (id) => {
    setLikes(likes.filter((item) => item !== id));
    setLikeItems(likeItems.filter((item) => item.ABDM_IDNTFY_NO !== id));
  };

  // ì²˜ìŒ ë“¤ì–´ì™”ì„ë•Œ ë¡œì»¬ë¡œ ë¶€í„° ì½ê³  ë‚˜ì„œ ì´ê±¸ ë°”ë¡œ ë¡œì»¬ì— ë„£ì–´ì¤˜ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  setë„ í•´ì¤˜ì•¼ í•œë‹¤.
  useEffect(() => {
    localStorage.setItem("likes", JSON.stringify(likes));
    localStorage.setItem("likeItems", JSON.stringify(likeItems));
    setLikes(JSON.parse(localStorage.getItem("likes")));
    setLikeItems(JSON.parse(localStorage.getItem("likeItems")));
  }, []);

  return (
    <LikesContext.Provider
      value={{ likes, likeItems, handleAdd, handleDelete }}
    >
      {children}
    </LikesContext.Provider>
  );
}

function readLikesFromLocal(key) {
  const likes = localStorage.getItem(key);
  return likes ? JSON.parse(likes) : [];
}

export const useLikes = () => useContext(LikesContext);
 ```
**âœ…í«ì¹´ë“œì—ì„œ includes ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ ì°œí•œ ìƒíƒœì¸ì§€ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.** 

```jsx
//src/ components/Like.

const { likes, handleAdd, handleDelete } = useLikes();
  const [like, setLike] = useState(() => {
    if (likes.includes(pet)) {
      console.log("í¬í•¨");
      return true;
    } else {
      console.log("ì•ˆí¬í•¨");
      return false;
    }
  });

  const toggleLike = () => {
    setLike((prev) => !prev);
    if (like) {
      handleDelete(pet);
    } else {
      handleAdd(pet);
    }
  };

  useEffect(() => {
    localStorage.setItem("likes", JSON.stringify(likes));
  }, [likes]); 
```

**âœ…ì¹´ì¹´ì˜¤ë§µì— ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•´ ë³´í˜¸ì†Œë¥¼ í´ë¦­í–ˆì„ ë•Œ ë³´í˜¸ì†Œì— ë³´í˜¸ì¤‘ì¸ ë™ë¬¼ì„ ë°›ì•„ì™”ìŠµë‹ˆë‹¤.**

 ```jsx
//src/page/Location.jsx
//...
kakao.maps.event.addListener(marker, "click", function () {
        setShelter(marker.Gb);
        getShelterPets(shelter).then((data) => {
          setPets(data.length === 0 ? [] : data[1].row);
          setCount(data.length === 0 ? "0" : data[0].head[0].list_total_count);
        });
      });
    }
  }, []); 
```

# **â³ FutureÂ scope**

- ëª¨ë°”ì¼ì—ì„œ ë³¼ë•Œ í«ì¹´ë“œê°€ ì™œê³¡ë˜ëŠ” ê²ƒ í•´ê²°í•˜ê¸°
- ì¹´ì¹´ì˜¤ë§µ ê¸°ëŠ¥ì„ ë” ì˜ í™œìš©í•´ ë³´ê¸°
